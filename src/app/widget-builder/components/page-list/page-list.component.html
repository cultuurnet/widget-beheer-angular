<h1>{{ "TITLE_WIDGET_PAGE_LIST" | translate }}</h1>
<button class="btn btn-primary" [routerLink]="['/project', project.id, 'page', 'add']">{{ "WIDGET_PAGE_LIST_ADD_NEW_WIDGET_BUTTON" | translate }}</button>
<div class="container-fluid">
  <div *ngIf="!widgetPages.length && !legacyWidgetPages.length">
    <p>{{ "WIDGET_PAGE_LIST_NO_PAGES_FOUND" | translate }}</p>
  </div>
  <div *ngIf="widgetPages.length" class="page-list">
    <div *ngFor="let widgetPage of widgetPages" class="card">
      <div class="card-header">
        <h3 class="float-left" style="margin:0; line-height:38px;">{{ widgetPage.title }}</h3>
        <button [routerLink]="['/project', project.id, 'page', widgetPage.id, 'edit']" class="btn btn-secondary float-left" style="margin-left: 20px;">{{ "WIDGET_PAGE_LIST_EDIT_WIDGET_BUTTON" | translate }}</button>
        <button (click)="duplicateWidgetPage(widgetPage)" class="btn btn-link">{{ "WIDGET_PAGE_LIST_DUPLICATE_WIDGET_BUTTON" | translate }}</button>
        <button (click)="deleteWidgetPage(widgetPage)" class="btn btn-link">{{ "WIDGET_PAGE_LIST_DELETE_WIDGET_BUTTON" | translate }}</button>
      </div>
      <div class="card-block">
        <p><code>{{ getWidgetPageUrl(widgetPage, true) }}</code></p>
        <app-clipboard-button [content]="getWidgetPageUrl(widgetPage, true)"></app-clipboard-button>
      </div>
    </div>
  </div>
  <div *ngIf="legacyWidgetPages.length">
    <h2>{{ "TITLE_WIDGET_PAGE_LEGACY_WIDGETS_LIST" | translate }}</h2>
    <p>{{ "WIDGET_PAGE_LIST_LEGACY_WIDGETS_INFO" | translate }}</p>
    <div class="page-list">
      <div *ngFor="let widgetPage of legacyWidgetPages" class="card">
        <div class="card-header">
          <h3 class="float-left" style="margin:0; line-height:38px;">{{ widgetPage.title }}</h3>
          <button class="btn btn-secondary float-left" style="margin-left: 20px;">{{ "WIDGET_PAGE_LIST_WIDGET_REQUEST_UPGRADE_BUTTON" | translate }}</button>
        </div>
        <div class="card-block">
          <h4>{{ "TITLE_WIDGET_PAGE_LIST_LEGACY_VERSION" | translate }}</h4>
          <p><code>{{ getWidgetPageUrl(widgetPage, true) }}</code></p>
          <app-clipboard-button [content]="getWidgetPageUrl(widgetPage, true)"></app-clipboard-button>

          <h4>{{ "TITLE_WIDGET_PAGE_LIST_NEW_VERSION" | translate }}</h4>
          <p><code>{{ getWidgetPageUrl(widgetPage, true, true) }}</code></p>
          <app-clipboard-button [content]="getWidgetPageUrl(widgetPage, true, true)"></app-clipboard-button>
        </div>
      </div>
    </div>
  </div>
</div>
